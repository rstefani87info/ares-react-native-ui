export const rgbShades = {
    'aliceblue': getRGBShade(240, 248, 255),
    'antiquewhite': getRGBShade(250, 235, 215),
    'aqua': getRGBShade(0, 255, 255),
    'aquamarine': getRGBShade(127, 255, 212),
    'azure': getRGBShade(240, 255, 255),
    'beige': getRGBShade(245, 245, 220),
    'bisque': getRGBShade(255, 228, 196),
    'blanchedalmond': getRGBShade(255, 235, 205),
    'blue': getRGBShade(0, 0, 255),
    'blueviolet': getRGBShade(138, 43, 226),
    'brown': getRGBShade(165, 42, 42),
    'burlywood': getRGBShade(222, 184, 135),
    'cadetblue': getRGBShade(95, 158, 160),
    'chartreuse': getRGBShade(127, 255, 0),
    'chocolate': getRGBShade(210, 105, 30),
    'coral': getRGBShade(255, 127, 80),
    'cornflowerblue': getRGBShade(100, 149, 237),
    'cornsilk': getRGBShade(255, 248, 220),
    'crimson': getRGBShade(220, 20, 60),
    'cyan': getRGBShade(0, 255, 255),
    'darkblue': getRGBShade(0, 0, 139),
    'darkcyan': getRGBShade(0, 139, 139),
    'darkgoldenrod': getRGBShade(184, 134, 11),
    'darkgray': getRGBShade(169, 169, 169),
    'darkgreen': getRGBShade(0, 100, 0),
    'darkgrey': getRGBShade(169, 169, 169),
    'darkkhaki': getRGBShade(189, 183, 107),
    'darkmagenta': getRGBShade(139, 0, 139),
    'darkolivegreen': getRGBShade(85, 107, 47),
    'darkorange': getRGBShade(255, 140, 0),
    'darkorchid': getRGBShade(153, 50, 204),
    'darkred': getRGBShade(139, 0, 0),
    'darksalmon': getRGBShade(233, 150, 122),
    'darkseagreen': getRGBShade(143, 188, 143),
    'darkslateblue': getRGBShade(72, 61, 139),
    'darkslategray': getRGBShade(47, 79, 79),
    'darkslategrey': getRGBShade(47, 79, 79),
    'darkturquoise': getRGBShade(0, 206, 209),
    'darkviolet': getRGBShade(148, 0, 211),
    'deeppink': getRGBShade(255, 20, 147),
    'deepskyblue': getRGBShade(0, 191, 255),
    'dimgray': getRGBShade(105, 105, 105),
    'dimgrey': getRGBShade(105, 105, 105),
    'dodgerblue': getRGBShade(30, 144, 255),
    'firebrick': getRGBShade(178, 34, 34),
    'floralwhite': getRGBShade(255, 250, 240),
    'forestgreen': getRGBShade(34, 139, 34),
    'fuchsia': getRGBShade(255, 0, 255),
    'gainsboro': getRGBShade(220, 220, 220),
    'ghostwhite': getRGBShade(248, 248, 255),
    'gold': getRGBShade(255, 215, 0),
    'goldenrod': getRGBShade(218, 165, 32),
    'gray': getRGBShade(128, 128, 128),
    'green': getRGBShade(0, 128, 0),
    'greenyellow': getRGBShade(173, 255, 47),
    'grey': getRGBShade(128, 128, 128),
    'honeydew': getRGBShade(240, 255, 240),
    'hotpink': getRGBShade(255, 105, 180),
    'indianred': getRGBShade(205, 92, 92),
    'indigo': getRGBShade(75, 0, 130),
    'ivory': getRGBShade(255, 255, 240),
    'khaki': getRGBShade(240, 230, 140),
    'lavender': getRGBShade(230, 230, 250),
    'lavenderblush': getRGBShade(255, 240, 245),
    'lawngreen': getRGBShade(124, 252, 0),
    'lemonchiffon': getRGBShade(255, 250, 205),
    'lightblue': getRGBShade(173, 216, 230),
    'lightcoral': getRGBShade(240, 128, 128),
    'lightcyan': getRGBShade(224, 255, 255),
    'lightgoldenrodyellow': getRGBShade(250, 250, 210),
    'lightgray': getRGBShade(211, 211, 211),
    'lightgreen': getRGBShade(144, 238, 144),
    'lightgrey': getRGBShade(211, 211, 211),
    'lightpink': getRGBShade(255, 182, 193),
    'lightsalmon': getRGBShade(255, 160, 122),
    'lightseagreen': getRGBShade(32, 178, 170),
    'lightskyblue': getRGBShade(135, 206, 250),
    'lightslategray': getRGBShade(119, 136, 153),
    'lightslategrey': getRGBShade(119, 136, 153),
    'lightsteelblue': getRGBShade(176, 196, 222),
    'lightyellow': getRGBShade(255, 255, 224),
    'lime': getRGBShade(0, 255, 0),
    'limegreen': getRGBShade(50, 205, 50),
    'linen': getRGBShade(250, 240, 230),
    'magenta': getRGBShade(255, 0, 255),
    'maroon': getRGBShade(128, 0, 0),
    'mediumaquamarine': getRGBShade(102, 205, 170),
    'mediumblue': getRGBShade(0, 0, 205),
    'mediumorchid': getRGBShade(186, 85, 211),
    'mediumpurple': getRGBShade(147, 112, 219),
    'mediumseagreen': getRGBShade(60, 179, 113),
    'mediumslateblue': getRGBShade(123, 104, 238),
    'mediumspringgreen': getRGBShade(0, 250, 154),
    'mediumturquoise': getRGBShade(72, 209, 204),
    'mediumvioletred': getRGBShade(199, 21, 133),
    'midnightblue': getRGBShade(25, 25, 112),
    'mintcream': getRGBShade(245, 255, 250),
    'mistyrose': getRGBShade(255, 228, 225),
    'moccasin': getRGBShade(255, 228, 181),
    'navajowhite': getRGBShade(255, 222, 173),
    'navy': getRGBShade(0, 0, 128),
    'oldlace': getRGBShade(253, 245, 230),
    'olive': getRGBShade(128, 128, 0),
    'olivedrab': getRGBShade(107, 142, 35),
    'orange': getRGBShade(255, 165, 0),
    'orangered': getRGBShade(255, 69, 0),
    'orchid': getRGBShade(218, 112, 214),
    'palegoldenrod': getRGBShade(238, 232, 170),
    'palegreen': getRGBShade(152, 251, 152),
    'paleturquoise': getRGBShade(175, 238, 238),
    'palevioletred': getRGBShade(219, 112, 147),
    'papayawhip': getRGBShade(255, 239, 213),
    'peachpuff': getRGBShade(255, 218, 185),
    'peru': getRGBShade(205, 133, 63),
    'pink': getRGBShade(255, 192, 203),
    'plum': getRGBShade(221, 160, 221),
    'powderblue': getRGBShade(176, 224, 230),
    'purple': getRGBShade(128, 0, 128),
    'rebeccapurple': getRGBShade(102, 51, 153),
    'red': getRGBShade(255, 0, 0),
    'rosybrown': getRGBShade(188, 143, 143),
    'royalblue': getRGBShade(65, 105, 225),
    'saddlebrown': getRGBShade(139, 69, 19),
    'salmon': getRGBShade(250, 128, 114),
    'sandybrown': getRGBShade(244, 164, 96),
    'seagreen': getRGBShade(46, 139, 87),
    'seashell': getRGBShade(255, 245, 238),
    'sienna': getRGBShade(160, 82, 45),
    'silver': getRGBShade(192, 192, 192),
    'skyblue': getRGBShade(135, 206, 235),
    'slateblue': getRGBShade(106, 90, 205),
    'slategray': getRGBShade(112, 128, 144),
    'slategrey': getRGBShade(112, 128, 144),
    'snow': getRGBShade(255, 250, 250),
    'springgreen': getRGBShade(0, 255, 127),
    'steelblue': getRGBShade(70, 130, 180),
    'tan': getRGBShade(210, 180, 140),
    'teal': getRGBShade(0, 128, 128),
    'thistle': getRGBShade(216, 191, 216),
    'tomato': getRGBShade(255, 99, 71),
    'turquoise': getRGBShade(64, 224, 208),
    'violet': getRGBShade(238, 130, 238),
    'wheat': getRGBShade(245, 222, 179),
    'whitesmoke': getRGBShade(245, 245, 245),
    'yellow': getRGBShade(255, 255, 0),
    'yellowgreen': getRGBShade(154, 205, 50)
};
export const hexShades = { };
for (const key in rgbShades) {
  hexShades[key] = convertToHexShade(rgbShades[key]);
}
export const white = [255, 255, 255, 1];
export const black = [0, 0, 0, 1];

export function convertRGBAToCSSColor(r, g, b, a = 1) {
  return `rgba(${r}, ${g}, ${b}, ${a})`;
}

/**
 * @prototype {array} toCSS
 */
export function convertRGBAArrayToCSS(this_rgbaArray) {
  return convertRGBAToCSSColor(...this_rgbaArray);
}

export function getRGBShade(r, g, b, step = 55) {
  const rgb = [r, g, b];
  return {
    white,
    lightest : getRGBLighter(r, g, b, step * 3),
    lighter : getRGBLighter(r, g, b, step * 2),
    light : getRGBLighter(r, g, b, step),
    middle : rgb,
    dark : getRGBDarker(r, g, b, step),
    darker : getRGBDarker(r, g, b, step * 2),
    darkest : getRGBDarker(r, g, b, step * 3),
    black,
  };
}

export function getHexShade(color, step = 55) {
  const rgb = [...Object.values(convertHexToRGB(color))];
  const rgbShade = getRGBShade(...rgb, step);
  return convertToHexShade(rgbShade);
}

export function convertToHexShade(rgbShade) {
  return {
    white: convertRGBToHex(...white),
    lightest : convertRGBToHex(...rgbShade.lightest),
    lighter : convertRGBToHex(...rgbShade.lighter),
    light : convertRGBToHex(...rgbShade.light),
    middle : convertRGBToHex(...rgbShade.middle),
    dark : convertRGBToHex(...rgbShade.dark),
    darker : convertRGBToHex(...rgbShade.darker),
    darkest : convertRGBToHex(...rgbShade.darkest),
    black: convertRGBToHex(...black),
  };
}

export function addAlphaToRGB(r, g, b, opacity) {
    if(opacity < 0) {opacity = 0;}
    if(opacity > 1) {opacity = 1 / opacity;}
  return [r, g, b, opacity];
}

export function addAlphaToHex(color, opacity) {
  return convertRGBToHex(...addAlphaToRGB(...convertHexToRGB(color), opacity));
}

export function convertHexToRGB(hex) {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2}){0,1}$/i.exec(hex);
  return result
    ? {
        r: parseInt(result[1], 16),
        g: parseInt(result[2], 16),
        b: parseInt(result[3], 16),
        a: result.length === 5 ? 255 / parseInt(result[4], 16) : 1,
      }
    : null;
}

export function convertRGBToHex(r, g, b, a = 1) {
  return '#' + [r, g, b].map(x => {
    const hex = x.toString(16);
    return hex.length === 1 ? '0' + hex : hex;
  }).join('');
}

export function getRGBLighter(r, g, b, step = 55) {
  if (step < 0) {step = step * -1;}
  const rgb = [r, g, b];
  return [
    r === 255 || r + step >= 255 ? 255 : r + step,
    g === 255 || g + step >= 255 ? 255 : g + step,
    b === 255 || b + step >= 255 ? 255 : b + step,
  ];
}

export function getHexLighter(color, step = '37' /* 55d = 37h */) {
  const rgb = getRGBLighter(...Object.values(convertHexToRGB(color)), parseInt(step, 16));
  const stack = new Error().stack;
  const caller = stack.split('\n')[2].trim(); 
  return convertRGBToHex(rgb);
}

export function getRGBDarker(r, g, b, step = 55) {
  if (step < 0) {step = step * -1;}
  const rgb = [r, g, b];
  return [
    r === 0 || r - step <= 0 ? 0 : r - step,
    g === 0 || g - step <= 0 ? 0 : g - step,
    b === 0 || b - step <= 0 ? 0 : b - step,
  ];
}

export function getHexDarker(color, step = '37' /* 55d = 37h */) {
  const rgb = getRGBDarker(...Object.values(convertHexToRGB(color)), parseInt(step, 16));
  return convertRGBToHex(rgb);
} 

export const transparent = {
  transparent: 'transparent',
};

export function parseRGBA(string) {
  const result = /(\d+),(\d+),(\d+)(,\d+)/i.exec(string);
  return result
    ? {
        r: parseInt(result[1], 10),
        g: parseInt(result[2], 10),
        b: parseInt(result[3], 10),
        a: result[4] ? parseFloat(result[4]) : 1,
      }
    : null;
}
